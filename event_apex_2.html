<apex:page docType="html-5.0"
  sidebar="false" 
  showheader="false"
  standardStylesheets="false"
  Controller="EventController" 
  applyHtmlTag="false"
  applyBodyTag="false"   
  id="todo"
  >
  <html>
    <head>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
      <apex:stylesheet value="https://fonts.googleapis.com/css?family=Hammersmith+One"/>
      <!-- <script type="text/javascript" src="scroll.js"></script> -->
      <apex:stylesheet value="{!URLFOR($Resource.RollCallAssets, 'style.css')}"/>
      <apex:includeScript value="{!URLFOR($Resource.RollCallAssets, 'scroll.js')}"/>
      <title>RollCall</title>
    </head>
    <body>
      <div id="navbar">
        <div id="navbar_title">
          <p> You are now managing: <br></br> <span class="blue_text">  
            {!event.name}
            </span> 
          </p>
        </div>
        <a class="tab blue_border hover_blue_text" data-section="one" href="#">
          <p> Information </p>
        </a>
        <a class="tab magenta_border hover_magenta_text" data-section="two" href="#">
          <p> Statistics </p>
        </a>
        <a class="tab green_border hover_green_text" data-section="three" href="#">
          <p> Attendees </p>
        </a>
        <apex:outputLink value="{!$Page.checkin}">
          <div class="tab red_border hover_red_text">
            <p> Check In </p>
          </div>
          <apex:param name="event_id" value="{!$CurrentPage.parameters.event_id}"/>
        </apex:outputLink>
        <apex:outputLink value="{!$Page.test}">
          <div id="return"></div>
        </apex:outputLink>
      </div>
      <input type='hidden' value='{!$CurrentPage.parameters.event_id}'/> 
      <div id="container">
        <section id="one" class="active">
          <div class="page">
            <div id="event">
              <div class="information">
                <p class="blue_text"> Name: </p>
                <p> {!event.name} </p>
                <p class="blue_text"> Description: </p>
                <p> {!event.description} </p>
                <p class="blue_text"> Date: </p>
                <p> {!event.start} </p>
                <p class="blue_text"> Number Registered: </p>
                <p> {!event.registered} </p>
                <p class="blue_text"> Number Checked In: </p>
                <p> {!event.checkedIn} </p>
              </div>
            </div>
          </div>
        </section>
        <!-- Statistics -->
        <section id="two">
          <div class="page" id="page_two"></div>
        </section>
        <!-- Attendees -->
        <section id="three">
          <div class="page">
            <div id="attendee_list">
              <apex:repeat value="{!attendees}" var="attendee" id="theRepeat">
                <br> </br>
                <ul>
                  <li>
                    <p> First Name: {!attendee.Contact.Firstname} </p>
                    <p> Last Name: {!attendee.Contact.Lastname} </p>
                    <p> Email : {!attendee.Contact.Email} </p>
                    <p> Company: {!attendee.Contact.Company__c} </p>
                  </li>
                </ul>
              </apex:repeat>
            </div>
          </div>
        </section>
      </div>
    </body>
    <script type="text/javascript">
      function setSection(to, from)
      {
      if (!(to.hasClass("active")))
      {  
          from.animate({"left":"-100%"},100,'linear')
          to.animate({"left":"0%"},100,'linear',function()
          {    
              from.css("left","100%");
              from.removeClass("active");    
              to.addClass("active");    
          });
      }
      }
      
      $(document).ready(function(){
      $('a').on('click', function(event) 
      {
      event.preventDefault();
      var sectionId = $(this).attr("data-section"),
          $toSlide= $("#container section#"+sectionId),
          $fromSlide= $('.active');
      setSection($toSlide, $fromSlide);
      });
      });
    </script>
  </html>
</apex:page>